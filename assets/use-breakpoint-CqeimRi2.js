import{r as m,o as v}from"./index-pCu5hn1m.js";function g(e,a=[]){const r=m.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return m.useInsertionEffect(()=>{r.current=e}),m.useCallback((...i)=>r.current?.(...i),a)}function x(e,a){try{return e.addEventListener("change",a),()=>e.removeEventListener("change",a)}catch{return e.addListener(a),()=>e.removeListener(a)}}function y(e,a={}){const{fallback:r=[],ssr:i=!0,getWindow:c}=a,f=g(c),d=Array.isArray(e)?e:[e],h=r?.filter(t=>t!=null),[s,u]=m.useState(()=>d.map((t,b)=>{if(!i){const{media:p,matches:w}=(c?.()??window).matchMedia(t);return{media:p,matches:w}}return{media:t,matches:!!h[b]}}));return m.useEffect(()=>{const t=f()??window;u(n=>{const o=d.map(l=>{const{media:k,matches:E}=t.matchMedia(l);return{media:k,matches:E}});return n.every((l,k)=>l.matches===o[k].matches&&l.media===o[k].media)?n:o});const b=d.map(n=>t.matchMedia(n)),p=n=>{u(o=>o.slice().map(l=>l.media===n.media?{...l,matches:n.matches}:l))},w=b.map(n=>x(n,p));return()=>w.forEach(n=>n())},[f]),s.map(t=>t.matches)}function C(e={}){e.fallback||(e.fallback="base");const a=v();let r=!1;const c=a.breakpoints.values.map(({min:s,name:u})=>{const t={breakpoint:u,query:`(min-width: ${s})`,fallback:!r};return u===e.fallback&&(r=!0),t}).filter(({breakpoint:s})=>!!e.breakpoints?.includes(s)),f=c.map(({fallback:s})=>s),h=y(c.map(s=>s.query),{fallback:f,ssr:e.ssr}).lastIndexOf(!0);return c[h]?.breakpoint??e.fallback}function L(e,a){const i=v().normalizeValue(e),c=C({breakpoints:Object.keys(i),...a});return i[c]}export{L as u};
